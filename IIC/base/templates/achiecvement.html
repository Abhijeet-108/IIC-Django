{% load static %}
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>IIC — Achievements</title>
<meta name="description" content="Student & faculty achievements list and PDF upload (static HTML conversion)" />
<style>
  :root{
    --maxw:1200px;
    --bg: #f7f8fb;
    --card-bg: #fff;
    --glass: rgba(255,255,255,0.9);
    --muted: #6b7280;
    --muted-2:#475569;
    --accent1: #2563eb;
    --accent2: #0f1724;
    --shadow: 0 10px 30px rgba(2,6,23,0.06);
    --radius-lg: 18px;
    --radius-md: 12px;
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,var(--bg),#fff);color:var(--muted-2)}
  a { color: inherit; text-decoration: none; }
  img { display:block; max-width:100%; }

  .page {
    padding:40px 20px;
    min-height:100vh;
    display:flex;
    justify-content:center;
  }

  .wrap {
    width:100%;
    max-width:var(--maxw);
  }

  /* Header */
  .header {
    text-align:center;
    margin-bottom:28px;
  }
  .title {
    font-size:40px;
    line-height:1;
    margin:8px 0 12px;
    font-weight:800;
    background: linear-gradient(90deg,var(--accent1),#475569);
    -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
  }
  .sub {
    color:var(--muted); max-width:800px; margin:0 auto 14px; font-size:16px;
  }
  .cta {
    margin-top:12px;
  }
  .btn-primary {
    display:inline-block; padding:10px 16px; background:var(--accent1); color:white; border-radius:12px; font-weight:700;
    box-shadow: 0 8px 22px rgba(37,99,235,0.12); transition: transform .15s, box-shadow .15s;
  }
  .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 18px 36px rgba(37,99,235,0.18); }

  /* Grid */
  .grid {
    display:grid;
    grid-template-columns: 1fr;
    gap:20px;
    margin:26px 0 38px;
  }
  @media(min-width:760px){ .grid { grid-template-columns: repeat(2, 1fr); gap:24px; } }
  @media(min-width:1100px){ .grid { grid-template-columns: repeat(3, 1fr); gap:28px; } }

  /* Card */
  .card {
    background: var(--card-bg);
    border-radius: var(--radius-lg);
    overflow:hidden;
    box-shadow: var(--shadow);
    transition: transform .18s ease, box-shadow .18s ease;
    display:flex;
    flex-direction:column;
  }
  .card:hover { transform: translateY(-8px); box-shadow: 0 20px 50px rgba(2,6,23,0.10); }

  .card-media {
    position:relative;
    height:200px;
    overflow:hidden;
  }
  .card-media img { width:100%; height:100%; object-fit:cover; display:block; }

  .badge {
    position:absolute;
    top:12px;
    right:12px;
    padding:6px 10px;
    border-radius:999px;
    color:white;
    font-weight:700;
    font-size:12px;
    text-transform:none;
  }

  .card-overlay {
    position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.05));
    pointer-events:none;
  }
  .card-title {
    position:absolute;
    left:16px;
    bottom:14px;
    right:16px;
    color:white;
    font-weight:800;
    font-size:18px;
    text-shadow:0 6px 18px rgba(0,0,0,0.5);
  }

  .card-body{
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,1));
  }

  .meta {
    display:flex;
    gap:14px;
    align-items:center;
    color:var(--muted);
    font-size:13px;
  }
  .meta svg { width:16px;height:16px; color:var(--muted); }

  .desc { color:var(--muted-2); font-size:14px; line-height:1.5; margin-top:6px; }

  .dept { font-size:12px; color:#6b7280; margin-top:6px; }

  /* PDF section */
  .pdf {
    background: var(--glass);
    border-radius: var(--radius-lg);
    padding:20px;
    border:1px solid rgba(0,0,0,0.06);
    box-shadow: var(--shadow);
    margin-bottom:30px;
  }
  .pdf-head { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
  .pdf-title { display:flex; gap:12px; align-items:center; }
  .pdf-icon { width:48px; height:48px; border-radius:12px; display:flex; align-items:center; justify-content:center; color:white; background: linear-gradient(135deg,var(--accent1),var(--accent2)); }
  .pdf-desc { color:var(--muted); }
  .btn-outline {
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; border:1px solid rgba(15,23,36,0.06); background:white; color:var(--muted-2); font-weight:700;
  }
  .pdf-preview {
    background:#fbfdff; border-radius:12px; padding:18px; border:1px solid rgba(0,0,0,0.04); color:var(--muted);
    text-align:center;
  }

  /* upload form styles (no-js form) */
  .upload-form {
    margin-top:18px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .upload-form label { font-weight:700; color:var(--muted-2); font-size:14px; }
  /* make description textarea span the full horizontal space */
  .upload-form textarea {
    width:100%;
    min-height:84px; padding:10px 12px; border-radius:10px; border:1px solid rgba(15,23,36,0.06); resize:vertical; font-size:14px;
  }
  .upload-form input[type="file"] {
    padding:8px; font-size:14px;
  }
  .upload-actions { display:flex; gap:10px; align-items:center; margin-top:6px; }
  .upload-actions .btn-submit {
    padding:8px 14px; border-radius:10px; border:0; background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:white; font-weight:700; cursor:pointer;
  }
  .small-note { font-size:13px; color:var(--muted); }

  /* colors for types (utility) */
  .type-competition { background: linear-gradient(90deg,#f59e0b,#fb923c); }
  .type-patent { background: linear-gradient(90deg,#2563eb,#06b6d4); }
  .type-startup { background: linear-gradient(90deg,#10b981,#059669); }
  .type-research { background: linear-gradient(90deg,#7c3aed,#ec4899); }
  .type-innovation { background: linear-gradient(90deg,#ef4444,#ec4899); }
  .type-default { background: linear-gradient(90deg,#9ca3af,#6b7280); }

  /* entrance animation classes */
  .fade-up { opacity:0; transform: translateY(14px); transition: all .6s cubic-bezier(.2,.9,.2,1); }
  .fade-up.in { opacity:1; transform:none; }

  .small { font-size:12px; color:var(--muted); }
</style>
</head>
<body>
  {% include 'nav.html' %}
  <main class="page">
    <div class="wrap">

      <!-- Header -->
      <header class="header">
        <div class="title">Achievements</div>
        <div class="sub">Celebrating the remarkable achievements of our students and faculty members</div>
        <div class="cta">
          <a class="btn-primary" href="/student-achievement">Submit Your Achievement</a>
        </div>
      </header>

      <!-- Grid container -->
      <section id="achievementsGrid" class="grid" aria-live="polite"></section>

      <!-- PDF Section (download button & preview removed) -->
      <section id="pdfSection" class="pdf fade-up" role="region" aria-label="Achievement Reports">
        <div class="pdf-head">
          <div class="pdf-title">
            <div class="pdf-icon" aria-hidden="true">
              <!-- award icon -->
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"><path d="M12 2l2.09 4.26L19 7.27l-3.5 3.41.83 4.83L12 13.77 7.67 15.5l.83-4.83L5 7.27l4.91-.99L12 2z"/></svg>
            </div>
            <div>
              <div style="font-weight:800; font-size:18px; color:#0f1724">Achievement Reports</div>
              <div class="pdf-desc small">Upload detailed reports in PDF format</div>
            </div>
          </div>

          <!-- download button removed as requested -->
        </div>

        <!-- Removed preview paragraphs as requested -->

        <!-- UPLOAD FORM (NO JS used on inputs) -->
        <form class="upload-form" action="/upload-achievement-pdf" method="post" enctype="multipart/form-data">
          <!-- If using Django template, insert {% csrf_token %} here -->
          <!-- {% csrf_token %} -->

          <div>
            <label for="pdfDescription">Description (test field)</label>
            <!-- description now spans full horizontal width of the section -->
            <textarea id="pdfDescription" name="description" placeholder="Enter a short description about the uploaded PDF (test field)"></textarea>
          </div>

          <div>
            <label for="pdfFile">Upload PDF</label>
            <input id="pdfFile" name="pdf" type="file" accept="application/pdf" />
          </div>

          <div class="upload-actions">
            <button type="submit" class="btn-submit">Upload</button>
            <div class="small-note">Allowed file type: .pdf </div>
          </div>
        </form>
        <!-- END UPLOAD FORM -->

      </section>

    </div>
  </main>

<script>
/* Data and rendering (converted from your React component) */
(function(){
  // sample PDF url (download button removed — leaving variable in case you need later)
  const pdfUrl = '/sample-achievements.pdf';

  // achievements array (same data you provided)
  const achievements = [
    {
      id: 1,
      title: 'National Innovation Award 2024',
      student: 'Rajesh Kumar',
      department: 'Computer Science & Engineering',
      date: '2024-01-15',
      description: 'Won first prize in the National Innovation Challenge for developing an AI-powered healthcare monitoring system.',
      type: 'Competition',
      image: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1200&q=80',
    },
    {
      id: 2,
      title: 'Patent Filed - Smart Irrigation System',
      student: 'Priya Sharma',
      department: 'Electronics & Communication Engineering',
      date: '2024-01-10',
      description: 'Successfully filed a patent for an IoT-based smart irrigation system that reduces water consumption by 40%.',
      type: 'Patent',
      image: 'https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=1200&q=80',
    },
    {
      id: 3,
      title: 'Start-up Launched - EduTech Solutions',
      student: 'Amit Patel',
      department: 'Information Technology',
      date: '2024-01-05',
      description: 'Launched a successful EdTech start-up providing AI-based personalized learning solutions to students.',
      type: 'Start-up',
      image: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1200&q=80',
    },
    {
      id: 4,
      title: 'Research Paper Published - IEEE',
      student: 'Sneha Reddy',
      department: 'Computer Science & Engineering',
      date: '2023-12-20',
      description: 'Published research paper on "Machine Learning Applications in Cybersecurity" in IEEE Transactions.',
      type: 'Research Publication',
      image: 'https://images.unsplash.com/photo-1532619675605-1ede6c4edc47?w=1200&q=80',
    },
    {
      id: 5,
      title: 'Hackathon Winner - TechFest 2024',
      student: 'Team Innovators',
      department: 'Multiple Departments',
      date: '2024-01-20',
      description: 'Won the grand prize in TechFest 2024 Hackathon for developing a blockchain-based voting system.',
      type: 'Competition',
      image: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=1200&q=80',
    },
    {
      id: 6,
      title: 'Innovation Grant Received',
      student: 'Karan Singh',
      department: 'Mechanical Engineering',
      date: '2023-12-15',
      description: 'Received innovation grant of ₹5 lakhs for developing a sustainable energy solution for rural areas.',
      type: 'Innovation',
      image: 'https://images.unsplash.com/photo-1497435334941-8c899ee9e8e9?w=1200&q=80',
    },
  ];

  // type -> css class map like getTypeColor
  function getTypeClass(type) {
    switch(type) {
      case 'Competition': return 'type-competition';
      case 'Patent': return 'type-patent';
      case 'Start-up': return 'type-startup';
      case 'Research Publication': return 'type-research';
      case 'Innovation': return 'type-innovation';
      default: return 'type-default';
    }
  }

  const grid = document.getElementById('achievementsGrid');

  // render cards
  achievements.forEach((a, idx) => {
    const card = document.createElement('article');
    card.className = 'card fade-up';
    card.style.transitionDelay = (idx * 80) + 'ms';

    // media area
    const media = document.createElement('div');
    media.className = 'card-media';
    const img = document.createElement('img');
    img.src = a.image;
    img.alt = a.title;
    media.appendChild(img);

    // badge
    const badge = document.createElement('div');
    badge.className = 'badge ' + getTypeClass(a.type);
    badge.textContent = a.type;
    media.appendChild(badge);

    const overlay = document.createElement('div');
    overlay.className = 'card-overlay';
    media.appendChild(overlay);

    const title = document.createElement('div');
    title.className = 'card-title';
    title.textContent = a.title;
    media.appendChild(title);

    // body
    const body = document.createElement('div');
    body.className = 'card-body';

    // meta row
    const meta = document.createElement('div');
    meta.className = 'meta';
    meta.innerHTML = `
      <div style="display:flex;align-items:center;gap:6px;">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" style="color:var(--muted)"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/></svg>
        <span>${escapeHtml(a.student)}</span>
      </div>
      <div style="display:flex;align-items:center;gap:6px;">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" style="color:var(--muted)"><path d="M8 7V3M16 7V3M3 11h18M5 21h14a2 2 0 0 0 2-2V7H3v12a2 2 0 0 0 2 2z"/></svg>
        <span>${new Date(a.date).toLocaleDateString()}</span>
      </div>
    `;
    body.appendChild(meta);

    // description
    const p = document.createElement('p');
    p.className = 'desc';
    p.textContent = a.description;
    body.appendChild(p);

    // department
    const dept = document.createElement('div');
    dept.className = 'dept';
    dept.textContent = a.department;
    body.appendChild(dept);

    card.appendChild(media);
    card.appendChild(body);
    grid.appendChild(card);
  });

  // Add staggered entrance
  window.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.fade-up').forEach((el, i) => {
      setTimeout(()=> el.classList.add('in'), 100 + i * 90);
    });
    // pdf section too
    setTimeout(()=> {
      const pdf = document.querySelector('.pdf.fade-up');
      if (pdf) pdf.classList.add('in');
    }, 100 + achievements.length * 90);
  });

  // Note: download button removed; no click handler exists now.

  // small helper to escape text (avoid XSS)
  function escapeHtml(str) {
    return String(str)
      .replace(/&/g, '&amp;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#39;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;');
  }
})();
</script>

{% include 'foot.html' %}
</body>
</html>
